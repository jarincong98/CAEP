function [residual, T_order, T] = dynamic_resid(y, x, params, steady_state, T_order, T)
if nargin < 6
    T_order = -1;
    T = NaN(38, 1);
end
[T_order, T] = Model_SOECESPricesMP.sparse.dynamic_resid_tt(y, x, params, steady_state, T_order, T);
residual = NaN(45, 1);
    residual(1) = (y(87)) - (params(35)*y(42)+(1-params(35))*params(32)+params(37)*(y(53)/params(34)-1)+params(36)*(y(69)/params(33)-1)+x(7));
    residual(2) = (y(53)*y(54)) - (params(3)*y(99)*y(98)*(1+y(87)));
    residual(3) = (y(79)) - (y(51)*y(83)/y(53));
    residual(4) = (y(52)) - (y(46)-(1-params(2))*y(1)+T(1)*(y(46)-y(1))^2);
    residual(5) = (y(54)) - (T(2)/y(53));
    residual(6) = (y(55)) - ((y(54)*y(48)/params(4))^(1/params(5)));
    residual(7) = (y(54)*y(56)*(1+params(6)*(y(46)-y(1)))) - (params(3)*y(99)*y(101)*T(3));
    residual(8) = (y(54)*y(51)*y(81)) - (params(3)*y(99)*y(96)*y(126)*(1+y(58)));
    residual(9) = (y(58)) - (params(31)+T(4)-1);
    residual(10) = (y(78)) - (T(6)*T(7));
    residual(11) = (y(77)) - (y(78));
    residual(12) = (y(57)) - (params(7)*y(77)*y(59)/y(1));
    residual(13) = (y(48)) - (y(59)*(1-params(7))*y(77)/y(55));
    residual(14) = (y(78)*params(23)/y(49)) - (params(23)-1+y(49)*params(19)*(y(49)/y(4)-1)/y(4)-T(10)*T(11)*y(104)/y(59));
    residual(15) = (y(73)) - (T(12)*(y(49)/y(4)-1)^2);
    residual(16) = (y(75)) - (y(59)*(y(49)-y(78))-y(59)*y(49)*y(73));
    residual(17) = (y(59)) - (y(73)+y(60)+y(62)+y(64));
    residual(18) = (y(64)) - (T(13)*y(86));
    residual(19) = (y(69)) - (y(59)*y(49));
    residual(20) = (y(70)) - (y(69)*4);
    residual(21) = (y(60)) - (y(47)*T(14)*T(15));
    residual(22) = (y(61)) - (T(15)*y(47)*T(16));
    residual(23) = (y(53)^(1-params(8))) - (T(17)*T(18));
    residual(24) = (y(62)) - (y(52)*T(19)*T(20));
    residual(25) = (y(63)) - (T(20)*y(52)*T(21));
    residual(26) = (y(56)) - (T(22)*T(24));
    residual(27) = (y(51)*y(83)*params(21)/y(50)) - (params(21)-1+y(50)*params(20)*(y(50)/y(5)-1)/y(5)-T(26)*T(27)*y(117)/y(72));
    residual(28) = (y(74)) - (T(28)*(y(50)/y(5)-1)^2);
    residual(29) = (y(72)) - (y(74)+y(61)+y(63));
    residual(30) = (y(76)) - (y(72)*(y(50)-y(51)*params(22))-y(72)*y(50)*y(74));
    residual(31) = (y(65)) - (y(49)*y(64));
    residual(32) = (y(66)) - (y(50)*y(72));
    residual(33) = (y(67)) - (y(65)-y(66));
    residual(34) = (y(76)+y(67)) - (y(51)*y(81)*y(68)+y(81)*y(51)*(-(1+y(13)))*y(23));
    residual(35) = (y(71)) - ((y(65)+y(66))/y(69));
    residual(36) = (y(80)) - (y(51)*y(81)*y(68)+y(53)*y(47)+y(52)*y(56)-y(55)*y(48)-y(46)*y(57)-y(23)*y(81)*y(51)*(1+y(13))-y(75)-y(76));
    residual(37) = (y(81)) - (T(30)*(1+x(2)));
    residual(38) = (y(83)) - (T(32)*(1+x(3)));
    residual(39) = (y(86)) - (T(34)*(1+x(4)));
    residual(40) = (y(82)) - (T(36)*(1+x(1)));
    residual(41) = (y(84)) - (T(37)*(1+x(5)));
    residual(42) = (y(85)) - (T(38)*(1+x(6)));
    residual(43) = (y(88)) - (y(69));
    residual(44) = (y(89)) - (y(47));
    residual(45) = (y(90)) - (y(52));
end
