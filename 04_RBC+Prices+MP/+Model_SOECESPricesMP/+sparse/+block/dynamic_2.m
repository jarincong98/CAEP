function [y, T, residual, g1] = dynamic_2(y, x, params, steady_state, sparse_rowval, sparse_colval, sparse_colptr, T)
residual=NaN(24, 1);
  y(66)=y(56)*y(46);
  T(5)=params(10)*(y(50)/y(46))^params(8);
  T(6)=y(81)^(params(8)-1);
  y(57)=y(44)*T(5)*T(6);
  T(7)=(1-params(10))*(y(50)/y(47))^params(8);
  y(58)=T(6)*y(44)*T(7);
  T(8)=y(82)^(params(8)-1);
  T(9)=(1-params(11))*(y(53)/y(47))^params(9);
  y(60)=T(8)*y(49)*T(9);
  y(73)=y(69)*(y(47)-y(48)*params(22))-y(69)*y(47)*y(71);
  y(63)=y(47)*y(69);
  y(52)=(y(51)*y(45)/params(4))^(1/params(5));
  y(67)=y(66)*4;
  T(10)=1/y(79)*(y(54)/params(7))^params(7);
  T(11)=(y(45)/(1-params(7)))^(1-params(7));
  residual(1)=(y(75))-(T(10)*T(11));
  residual(2)=(y(74))-(y(75));
  residual(3)=(y(45))-(y(56)*(1-params(7))*y(74)/y(52));
  residual(4)=(y(70))-(params(19)/2*(y(46)/y(4)-1)^2);
  residual(5)=(y(56))-(y(70)+y(57)+y(59)+y(61));
  T(12)=params(11)*(y(53)/y(46))^params(9);
  residual(6)=(y(59))-(y(49)*T(12)*T(8));
  residual(7)=(y(71))-(params(20)/2*(y(47)/y(5)-1)^2);
  residual(8)=(y(62))-(y(46)*y(61));
  residual(9)=(y(64))-(y(62)-y(63));
  residual(10)=(y(73)+y(64))-(y(48)*y(78)*y(65)+y(78)*y(48)*(-(1+y(13)))*y(23));
  residual(11)=(y(51)*y(48)*y(78))-(params(3)*y(93)*y(90)*y(120)*(1+y(55)));
  T(13)=exp(params(29)*(y(48)*y(78)*y(65)/y(67)-params(13)));
  residual(12)=(y(55))-(params(31)+T(13)-1);
  residual(13)=(y(84))-(params(35)*y(42)+(1-params(35))*params(32)+params(37)*(y(50)/params(34)-1)+params(36)*(y(66)/params(33)-1)+x(7));
  residual(14)=(y(49))-(y(43)-(1-params(2))*y(1)+params(6)/2*(y(43)-y(1))^2);
  residual(15)=(y(61))-((y(48)*y(78)/y(46))^params(12)*y(83));
  T(14)=params(11)*y(46)^(1-params(9))+(1-params(11))*y(47)^(1-params(9));
  residual(16)=(y(53))-(1/y(82)*T(14)^(1/(1-params(9))));
  residual(17)=(y(51)*y(53)*(1+params(6)*(y(43)-y(1))))-(params(3)*y(93)*y(95)*(1-params(2)+params(6)*(y(85)-y(43))+y(96)/y(95)));
  residual(18)=(y(54))-(params(7)*y(74)*y(56)/y(1));
  T(15)=params(3)*(y(86)/y(44))^(-params(1));
  T(16)=(y(88)/y(46))^2;
  residual(19)=(y(75)*params(23)/y(46))-(params(23)-1+y(46)*params(19)*(y(46)/y(4)-1)/y(4)-params(19)*T(15)*(y(88)/y(46)-1)*T(16)*y(98)/y(56));
  T(17)=(1/y(81))^(1-params(8));
  residual(20)=(y(50)^(1-params(8)))-(T(17)*(params(10)*y(46)^(1-params(8))+(1-params(10))*y(47)^(1-params(8))));
  T(18)=(y(89)/y(47))^2;
  residual(21)=(y(48)*y(80)*params(21)/y(47))-(params(21)-1+y(47)*params(20)*(y(47)/y(5)-1)/y(5)-T(15)*params(20)*(y(89)/y(47)-1)*T(18)*y(111)/y(69));
  residual(22)=(y(69))-(y(71)+y(58)+y(60));
  T(19)=y(44)^(-params(1));
  residual(23)=(y(51))-(T(19)/y(50));
  residual(24)=(y(50)*y(51))-(params(3)*y(93)*y(92)*(1+y(84)));
  T(20)=getPowerDeriv(y(86)/y(44),(-params(1)),1);
  T(21)=getPowerDeriv(y(51)*y(45)/params(4),1/params(5),1);
  T(22)=getPowerDeriv(y(48)*y(78)/y(46),params(12),1);
  T(23)=getPowerDeriv(y(50)/y(46),params(8),1);
  T(24)=getPowerDeriv(y(53)/y(46),params(9),1);
  T(25)=getPowerDeriv(T(14),1/(1-params(9)),1);
  T(26)=getPowerDeriv(y(50)/y(47),params(8),1);
  T(27)=getPowerDeriv(y(53)/y(47),params(9),1);
if nargout > 3
    g1_v = NaN(111, 1);
g1_v(1)=(-(y(23)*y(78)*(-y(48))));
g1_v(2)=(-(y(78)*y(48)*(-(1+y(13)))));
g1_v(3)=(-params(35));
g1_v(4)=(-(params(6)/2*(-(2*(y(43)-y(1))))-(1-params(2))));
g1_v(5)=y(51)*y(53)*(-params(6));
g1_v(6)=(-((-(params(7)*y(74)*y(56)))/(y(1)*y(1))));
g1_v(7)=(-(params(19)/2*(-y(46))/(y(4)*y(4))*2*(y(46)/y(4)-1)));
g1_v(8)=(-((y(4)*y(46)*params(19)*(-y(46))/(y(4)*y(4))-y(46)*params(19)*(y(46)/y(4)-1))/(y(4)*y(4))));
g1_v(9)=(-(params(20)/2*(-y(47))/(y(5)*y(5))*2*(y(47)/y(5)-1)));
g1_v(10)=(-((y(5)*y(47)*params(20)*(-y(47))/(y(5)*y(5))-y(47)*params(20)*(y(47)/y(5)-1))/(y(5)*y(5))));
g1_v(11)=(-(T(10)*1/(1-params(7))*getPowerDeriv(y(45)/(1-params(7)),1-params(7),1)));
g1_v(12)=1-(-(y(56)*(1-params(7))*y(74)*y(51)/params(4)*T(21)))/(y(52)*y(52));
g1_v(13)=1;
g1_v(14)=(-1);
g1_v(15)=params(23)/y(46);
g1_v(16)=1;
g1_v(17)=(-((1-params(7))*y(56)/y(52)));
g1_v(18)=(-(params(7)*y(56)/y(1)));
g1_v(19)=1;
g1_v(20)=(-1);
g1_v(21)=(-1);
g1_v(22)=1;
g1_v(23)=(-(T(12)*T(8)));
g1_v(24)=1;
g1_v(25)=(-(T(8)*T(9)));
g1_v(26)=1;
g1_v(27)=(-(y(47)*y(69)));
g1_v(28)=(-1);
g1_v(29)=(-1);
g1_v(30)=(-y(46));
g1_v(31)=1;
g1_v(32)=1;
g1_v(33)=(-1);
g1_v(34)=1;
g1_v(35)=1;
g1_v(36)=(-(params(3)*y(93)*y(90)*y(120)));
g1_v(37)=1;
g1_v(38)=(-(y(48)*y(78)));
g1_v(39)=(-(T(13)*params(29)*y(48)*y(78)/y(67)));
g1_v(40)=1;
g1_v(41)=(-(params(3)*y(93)*y(92)));
g1_v(42)=(-(1+params(6)/2*2*(y(43)-y(1))));
g1_v(43)=params(6)*y(51)*y(53)-params(3)*y(93)*y(95)*(-params(6));
g1_v(44)=(-(params(19)/2*2*(y(46)/y(4)-1)*1/y(4)));
g1_v(45)=(-(T(6)*y(44)*params(10)*(-y(50))/(y(46)*y(46))*T(23)));
g1_v(46)=(-(T(8)*y(49)*params(11)*(-y(53))/(y(46)*y(46))*T(24)));
g1_v(47)=(-y(61));
g1_v(48)=(-(T(13)*params(29)*(-(y(48)*y(78)*y(65)*y(56)*4))/(y(67)*y(67))));
g1_v(49)=(-(params(36)*y(56)/params(33)));
g1_v(50)=(-(y(83)*(-(y(48)*y(78)))/(y(46)*y(46))*T(22)));
g1_v(51)=(-(1/y(82)*params(11)*getPowerDeriv(y(46),1-params(9),1)*T(25)));
g1_v(52)=(-(y(75)*params(23)))/(y(46)*y(46))-((params(19)*(y(46)/y(4)-1)+y(46)*params(19)*1/y(4))/y(4)-y(98)*(T(16)*params(19)*T(15)*(-y(88))/(y(46)*y(46))+params(19)*T(15)*(y(88)/y(46)-1)*(-y(88))/(y(46)*y(46))*2*y(88)/y(46))/y(56));
g1_v(53)=(-(T(17)*params(10)*getPowerDeriv(y(46),1-params(8),1)));
g1_v(54)=(-(params(20)/2*2*(y(47)/y(5)-1)*1/y(5)));
g1_v(55)=y(69);
g1_v(56)=y(69)-y(69)*y(71);
g1_v(57)=(-(1/y(82)*T(25)*(1-params(11))*getPowerDeriv(y(47),1-params(9),1)));
g1_v(58)=(-(T(17)*(1-params(10))*getPowerDeriv(y(47),1-params(8),1)));
g1_v(59)=(-(y(48)*y(80)*params(21)))/(y(47)*y(47))-((params(20)*(y(47)/y(5)-1)+y(47)*params(20)*1/y(5))/y(5)-y(111)*(T(18)*T(15)*params(20)*(-y(89))/(y(47)*y(47))+T(15)*params(20)*(y(89)/y(47)-1)*(-y(89))/(y(47)*y(47))*2*y(89)/y(47))/y(69));
g1_v(60)=(-(T(6)*y(44)*(1-params(10))*(-y(50))/(y(47)*y(47))*T(26)+T(8)*y(49)*(1-params(11))*(-y(53))/(y(47)*y(47))*T(27)));
g1_v(61)=(-(T(8)*y(49)*params(11)*T(24)*1/y(46)));
g1_v(62)=1;
g1_v(63)=y(51)*(1+params(6)*(y(43)-y(1)));
g1_v(64)=(-(T(8)*y(49)*(1-params(11))*T(27)*1/y(47)));
g1_v(65)=(-(T(11)*1/y(79)*1/params(7)*getPowerDeriv(y(54)/params(7),params(7),1)));
g1_v(66)=1;
g1_v(67)=(-((1-params(7))*y(74)/y(52)));
g1_v(68)=1;
g1_v(69)=(-(T(13)*params(29)*(-(y(48)*y(78)*y(65)*y(46)*4))/(y(67)*y(67))));
g1_v(70)=(-(params(36)*y(46)/params(33)));
g1_v(71)=(-(params(7)*y(74)/y(1)));
g1_v(72)=(-(params(19)*T(15)*(y(88)/y(46)-1)*T(16)*y(98)))/(y(56)*y(56));
g1_v(73)=(-(T(6)*y(44)*params(10)*T(23)*1/y(46)));
g1_v(74)=(-(params(37)*1/params(34)));
g1_v(75)=getPowerDeriv(y(50),1-params(8),1);
g1_v(76)=(-(T(6)*y(44)*(1-params(10))*T(26)*1/y(47)));
g1_v(77)=(-((-T(19))/(y(50)*y(50))));
g1_v(78)=y(51);
g1_v(79)=y(69)*(-params(22))-(y(78)*y(65)+y(23)*y(78)*(-(1+y(13))));
g1_v(80)=y(51)*y(78);
g1_v(81)=(-(T(13)*params(29)*y(78)*y(65)/y(67)));
g1_v(82)=(-(y(83)*T(22)*y(78)/y(46)));
g1_v(83)=y(80)*params(21)/y(47);
g1_v(84)=y(47);
g1_v(85)=y(47)-y(48)*params(22)-y(47)*y(71);
g1_v(86)=(-(T(15)*params(20)*(y(89)/y(47)-1)*T(18)*y(111)))/(y(69)*y(69));
g1_v(87)=1;
g1_v(88)=(-(T(5)*T(6)));
g1_v(89)=y(98)*T(16)*(y(88)/y(46)-1)*params(19)*params(3)*(-y(86))/(y(44)*y(44))*T(20)/y(56);
g1_v(90)=y(111)*T(18)*(y(89)/y(47)-1)*params(20)*params(3)*(-y(86))/(y(44)*y(44))*T(20)/y(69);
g1_v(91)=(-(T(6)*T(7)));
g1_v(92)=(-(getPowerDeriv(y(44),(-params(1)),1)/y(50)));
g1_v(93)=(-((-(y(56)*(1-params(7))*y(74)*T(21)*y(45)/params(4)))/(y(52)*y(52))));
g1_v(94)=y(48)*y(78);
g1_v(95)=y(53)*(1+params(6)*(y(43)-y(1)));
g1_v(96)=1;
g1_v(97)=y(50);
g1_v(98)=(-(params(6)*params(3)*y(93)*y(95)));
g1_v(99)=y(98)*(T(16)*params(19)*T(15)*1/y(46)+params(19)*T(15)*(y(88)/y(46)-1)*2*y(88)/y(46)*1/y(46))/y(56);
g1_v(100)=y(111)*(T(18)*T(15)*params(20)*1/y(47)+T(15)*params(20)*(y(89)/y(47)-1)*2*y(89)/y(47)*1/y(47))/y(69);
g1_v(101)=(-(params(3)*y(93)*(1-params(2)+params(6)*(y(85)-y(43))+y(96)/y(95))+params(3)*y(93)*y(95)*(-y(96))/(y(95)*y(95))));
g1_v(102)=(-(params(3)*y(93)*y(95)*1/y(95)));
g1_v(103)=params(19)*T(15)*(y(88)/y(46)-1)*T(16)/y(56);
g1_v(104)=(-(params(3)*y(93)*(1+y(84))));
g1_v(105)=(-((1+y(55))*params(3)*y(93)*y(120)));
g1_v(106)=T(15)*params(20)*(y(89)/y(47)-1)*T(18)/y(69);
g1_v(107)=y(98)*T(16)*(y(88)/y(46)-1)*params(19)*params(3)*T(20)*1/y(44)/y(56);
g1_v(108)=y(111)*T(18)*(y(89)/y(47)-1)*params(20)*params(3)*T(20)*1/y(44)/y(69);
g1_v(109)=(-((1+y(55))*y(120)*params(3)*y(90)));
g1_v(110)=(-((1-params(2)+params(6)*(y(85)-y(43))+y(96)/y(95))*params(3)*y(95)));
g1_v(111)=(-((1+y(84))*params(3)*y(92)));
    if ~isoctave && matlab_ver_less_than('9.8')
        sparse_rowval = double(sparse_rowval);
        sparse_colval = double(sparse_colval);
    end
    g1 = sparse(sparse_rowval, sparse_colval, g1_v, 24, 72);
end
end
